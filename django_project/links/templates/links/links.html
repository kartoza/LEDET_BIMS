{% extends 'main_base.html' %}
{% load static from staticfiles %}

{% block title %}
    Links
{% endblock %}

{% block head %}

    <!-- Custom styles for this template -->
    <link href="{% static "css/landing_page.css" %}" rel="stylesheet">

{% endblock %}

{% block body_content %}

<div style="padding-top: 6%;">
          <div class="container" style="margin-bottom: 25px">
                <div class="row">
                  <div class="col-lg-8 mx-auto text-center">
                    <h2 class="section-heading">LINKS PAGE</h2>
                  </div>
                </div>
              <div class="row">
                    {% for category in categories %}
                      <div class="col-lg-6">
                                <ul>
                                    <li class="nav-header title" style="list-style-type: none;">
                                        <h3>{{ category.name }}
                                        <small><span class="badge badge-info">{{ category.link_set.count }}</span></small>
                                        </h3>
                                    </li>
                                    {% for link in category.link_set.all %}
                                        <div class="list-group borderless">

                                            {% if link.url %}
                                                    <a href="{{ link.url }}" target="_blank" class="list-group-item list-group-item-action flex-column align-items-start">
                                                        {{ link.description|truncatechars:65 }}</a>
                                                {% else %}
                                                    {{ link }}
                                            {% endif %}
                                        </div>
                                    {% endfor %}
                                </ul>
                          </div>
                  {% endfor %}
                 </div>

          {% if categories.has_other_pages %}
  <ul class="pagination">
    {% if categories.has_previous %}
      <li><a href="?page={{ categories.previous_page_number }}">&laquo;
      </a></li>
    {% else %}
      <li class="disabled"><span>&laquo;</span></li>
    {% endif %}
    {% for i in categories.paginator.page_range %}
      {% if categories.number == i %}
        <li class="active"><span>{{ i }} <span class="sr-only">(current)</span></span></li>
      {% else %}
        <li><a href="?page={{ i }}">{{ i }}</a></li>
      {% endif %}
    {% endfor %}
    {% if categories.has_next %}
      <li><a href="?page={{ categories.next_page_number }}">&raquo;</a></li>
    {% else %}
      <li class="disabled"><span>&raquo;</span></li>
    {% endif %}
  </ul>
{% endif %}


          </div>

        <section id="about">
            <div class="container">
                <div class="row">
                    <div class="col-lg-10 pull-left kartoza-icon">
                        <a href="http://kartoza.com/en/">
                            <img src="{% static 'img/kartoza-logo-only.png' %}" style="width: 55px">
                        </a>
                    </div>
                    <div class="col-lg-2 pull-right about-links">
                        <p><a>About</a></p>
                        <p><a>Contact</a></p>
                        <p><a>Others</a></p>
                    </div>
                </div>
            </div>
        </section>
    </div>

{% endblock %}

{% block foot %}

    <!-- Plugin JavaScript -->
    <script src="{% static "js/libs/jquery/jquery-3.3.1.min.js" %}"></script>
    <script src="{% static "js/libs/bootstrap-4.0.0/js/bootstrap.min.js" %}"></script>
    <script src="{% static "js/libs/jquery-easing/jquery.easing.min.js" %}"></script>
    <script src="{% static "js/libs/scrollreveal/scrollreveal.min.js" %}"></script>
    <script src="{% static "js/libs/magnific-popup/jquery.magnific-popup.min.js" %}"></script>
    <script src="{% static "js/libs/chart/Chart-2.7.2.js" %}"></script>
    <script src="{% static "js/views/donut-chart.js" %}"></script>
    <script src="{% static "js/views/generate-donut-chart.js" %}"></script>

    <!-- Custom scripts for this template -->
    <script src="{% static "js/creative.js" %}"></script>
{% endblock %}